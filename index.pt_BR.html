<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Retrofit</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Client HTTP fortemente tipado para Android and Java">
    <link href="static/bootstrap-combined.min.css" rel="stylesheet">
    <link href="static/app.css" rel="stylesheet">
    <link href="static/app-theme.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,300italic,100,100italic,300" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]><script src="static/html5shiv.min.js"></script><![endif]-->
  </head>
  <body data-target=".content-nav">
    <header>
      <div class="container">
        <div class="row">
          <div class="span5">
            <h1>Retrofit</h1>
          </div>
          <div class="span7">
            <menu>
              <ul>
                <li><a href="#download" class="menu download">Baixe a <span class="version-tag">Última Versão</span></a></li>
                <li><a href="http://github.com/square/retrofit" data-title="View GitHub Project" class="menu github"><img src="static/icon-github.png" alt="GitHub"/></a></li>
                <li><a href="http://square.github.io/" data-title="Square Open Source Portal" class="menu square"><img src="static/icon-square.png" alt="Square"/></a></li>
              </ul>
            </menu>
          </div>
        </div>
      </div>
    </header>
    <section id="subtitle">
      <div class="container">
        <div class="row">
          <div class="span12">
            <h2>Um <strong>HTTP client</strong> fortemente tipado para Android e Java<!-- e Samsung! --></h2>
          </div>
        </div>
      </div>
    </section>
    <section id="body">
      <div class="container">
        <div class="row">
          <div class="span9">
            <section id="introduction">
              <h3>Introdução</h3>
              <p>Retrofit faz de sua API HTTP A  uma interface Java.</p>
              <pre class="prettyprint">public interface GitHubService {
  @GET("usuarios/{usuario}/repos")
  Call&lt;List&lt;Repo>> listarRepos(@Path("usuario") String usuario);
}</pre>
              <p>A classe <code>Retrofit</code> gera uma implementação da interface <code>GitHubService</code>.</p>
              <pre class="prettyprint">Retrofit retrofit = new Retrofit.Builder()
    .baseUrl("https://api.github.com/")
    .build();

GitHubService service = retrofit.create(GitHubService.class);</pre>
              <p>Cada <code>Chamada</code> do <code>GitHubService</code> criado pode fazer um request HTTP síncrono ou assíncrono do webserver remoto.</p>
              <pre class="prettyprint">Call&lt;List&lt;Repo>> repos = service.listRepos("octocat");</pre>
              <p>Use anotações para descrever o request HTTP:</p>
              <ul>
                <li>Suporte de substituição de parâmetro de URL e parâmetro de query</li>
                <li>Conversão de objetos para requerir body (JSON, protocolos de transferência)</li>
                <li>Upload de arquivos e dados</li>
              </ul>
              <p><em>Nota:</em> Este site ainda está em processo de ser expandido para as novas APIs 2.0.</p>
            </section>

            <section id="api-declaration">
              <h3>Declaração da API</h3>
              <p>Anotações em métodos da interface e seus parâmetros indicam como uma request será manuseada.</p>

              <h4>Método da Request</h4>
              <p>Todo método deve possuir uma annotation HTTP que fornece o método da request e a URL relativa. Existem cinco annotations contruídas: <code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>, e <code>HEAD</code>. A URL relativa do recurso é especificada na annotation.</p>
              <pre class="prettyprint">@GET("users/list")</pre>
              <p>Você pode especificar os parâmetros da busca na URL.</p>
              <pre class="prettyprint">@GET("users/list?sort=desc")</pre>

              <h4>Manipulação de URL</h4>
              <p>Um request pode ser atualizado dinamicamente usando blocos de substituição e parâmetros no método. Um bloco de substituição é uma string alfanumérica cercado por <code>{</code> e <code>}</code>. Um parâmetro correspondente deve ser anotado com <code>@Path</code> usando a mesma string.</p>
              <pre class="prettyprint">@GET("group/{id}/usuarios")
Call&lt;List&lt;Usuario>> groupList(@Path("id") int idDoGrupo);</pre>
              <p>Parâmetros de query também podem ser adicionados.</p>
              <pre class="prettyprint">@GET("group/{id}/usuarios")
Call&lt;List&lt;Usuario>> groupList(@Path("id") int idDoGrupo, @Query("sort") String sort);</pre>
              <p>Para combinações de parâmetros de query complexos um <code>Map</code> pode ser utilizado.</p>
              <pre class="prettyprint">@GET("group/{id}/usuarios")
Call&lt;List&lt;Usuario>> groupList(@Path("id") int idDoGrupo, @QueryMap Map&lt;String, String&gt; options);</pre>

              <h4>Request Body</h4>

              <p>Um objeto pode ser especificado para a utilização como o corpo de uma requisição HTTP com a anotação <code>@Body</code>.</p>
              <pre class="prettyprint">@POST("usuarios/novo")
Call&lt;Usuario> criarUser(@Body Usuario usuario);</pre>
              <p>O objeto também será convertido usando um conversor especificado na instância do <code>Retrofit</code>. Se nenhum conversor for utilizado, somente <code>RequestBody</code> poderá ser utilizado.</p>

              <h4>Form Encoded e Multipart</h4>
              <p>Métodos também podem ser declarados para enviar dados form-encoded e multipart.</p>
              <p>Dados form-encoded são enviados quando a anotação <code>@FormUrlEncoded</code> está presente no método. Cada par key-value é anotado com <code>@Field</code> contendo o nome e o objeto que fornece o valor.</p> 
              <pre class="prettyprint">@FormUrlEncoded
@POST("user/edit")
Call&lt;User> updateUser(@Field("first_name") String first, @Field("last_name") String last);</pre>
              <p>Multipart requests são usadas quando <code>@Multipart</code> está presente no método. Partes são declaradas usando a anotação <code>@Part</code> .</p>
              <pre class="prettyprint">@Multipart
@PUT("user/photo")
Call&lt;User> updateUser(@Part("photo") RequestBody photo, @Part("description") RequestBody description);</pre>
              <p>Partes do multipart usam um conversor do <code>Retrofit</code> ou elas podem implementar <code>RequestBody</code> para manusear sua própria serialização.</p>

              <h4>Header Manipulation</h4>
              <p>You can set static headers for a method using the <code>@Headers</code> annotation.</p>
              <pre class="prettyprint">@Headers("Cache-Control: max-age=640000")
@GET("widget/list")
Call&lt;List&lt;Widget>> widgetList();</pre>
              <pre class="prettyprint">@Headers({
    "Accept: application/vnd.github.v3.full+json",
    "User-Agent: Retrofit-Sample-App"
})
@GET("users/{username}")
Call&lt;User> getUser(@Path("username") String username);</pre>
              <p>Note that headers do not overwrite each other. All headers with the same name will be included in the request.</p>
              <p>A request Header can be updated dynamically using the <code>@Header</code> annotation. A corresponding parameter must be provided to the <code>@Header</code>. If the value is null, the header will be omitted. Otherwise, <code>toString</code> will be called on the value, and the result used.</p>
              <pre class="prettyprint">@GET("user")
Call&lt;User> getUser(@Header("Authorization") String authorization)</pre>
              <p>Headers that need to be added to every request can be specified using an <a href="https://github.com/square/okhttp/wiki/Interceptors">OkHttp interceptor</a>.

              <h4>Synchronous vs. Asynchronous</h4>
              <p><code>Call</code> instances can be executed either synchronously or asynchronously. Each instance can only be used once, but calling <code>clone()</code> will create a new instance that can be used.</p>
              <p>On Android, callbacks will be executed on the main thread. On the JVM, callbacks will happen on the same thread that executed the HTTP request.</p>
            </section>

            <section id="restadapter-configuration">
              <h3>Retrofit Configuration</h3>
              <p><code>Retrofit</code> is the class through which your API interfaces are turned into callable objects. By default, Retrofit will give you sane defaults for your platform but it allows for customization.</p>

              <h4>Converters</h4>
              <p>By default, Retrofit can only deserialize HTTP bodies into OkHttp's <code>ResponseBody</code> type and it can only accept its <code>RequestBody</code> type for <code>@Body</code>.</p>
              <p>Converters can be added to support other types. Six sibling modules adapt popular serialization libraries for your convenience.</p>
              <ul>
                <li><a href="https://github.com/google/gson">Gson</a>: <code>com.squareup.retrofit2:converter-gson</code></li>
                <li><a href="http://wiki.fasterxml.com/JacksonHome">Jackson</a>: <code>com.squareup.retrofit2:converter-jackson</code></li>
                <li><a href="https://github.com/square/moshi/">Moshi</a>: <code>com.squareup.retrofit2:converter-moshi</code></li>
                <li><a href="https://developers.google.com/protocol-buffers/">Protobuf</a>: <code>com.squareup.retrofit2:converter-protobuf</code></li>
                <li><a href="https://github.com/square/wire">Wire</a>: <code>com.squareup.retrofit2:converter-wire</code></li>
                <li><a href="http://simple.sourceforge.net/">Simple XML</a>: <code>com.squareup.retrofit2:converter-simplexml</code></li>
                <li>Scalars (primitives, boxed, and String): <code>com.squareup.retrofit2:converter-scalars</code></li>
              </ul>
              <p>Here's an example of using the <code>GsonConverterFactory</code> class to generate an implementation of the <code>GitHubService</code> interface which uses Gson for its deserialization.</p>
              <pre class="prettyprint">Retrofit retrofit = new Retrofit.Builder()
    .baseUrl("https://api.github.com")
    .addConverterFactory(GsonConverterFactory.create())
    .build();

GitHubService service = retrofit.create(GitHubService.class);</pre>
              <h4>Custom Converters</h4>
              <p>If you need to communicate with an API that uses a content-format that Retrofit does not support out of the box (e.g. YAML, txt, custom format) or you wish to use a different library to implement an existing format, you can easily create your own converter. Create a class that extends the <a href="https://github.com/square/retrofit/blob/master/retrofit/src/main/java/retrofit/Converter.java"><code>Converter.Factory</code> class</a> and pass in an instance when building your adapter.</p>
            </section>

            <section id="download">
              <h3>Download</h3>
              <p><a href="https://search.maven.org/remote_content?g=com.squareup.retrofit2&a=retrofit&v=LATEST" class="dl version-href">&darr; <span class="version-tag">Latest</span> JAR</a></p>
              <p>The source code to the Retrofit, its samples, and this website is <a href="http://github.com/square/retrofit">available on GitHub</a>.</p>
              <h4>Maven</h4>
              <pre class="prettyprint">&lt;dependency>
  &lt;groupId>com.squareup.retrofit2&lt;/groupId>
  &lt;artifactId>retrofit&lt;/artifactId>
  &lt;version><span class="version pln"><em>(insert latest version)</em></span>&lt;/version>
&lt;/dependency></pre>
              <h4>Gradle</h4>
              <pre class="prettyprint">
compile 'com.squareup.retrofit2:retrofit:<span class="version pln"><em>(insert latest version)</em></span>'
</pre>
              <p>Retrofit requires at minimum Java 7 or Android 2.3.</p>

              <h4>ProGuard</h4>
              <p>If you are using Proguard in your project add the following lines to your configuration:</p>
              <pre class="prettyprint">
-dontwarn retrofit2.**
-keep class retrofit2.** { *; }
-keepattributes Signature
-keepattributes Exceptions
</pre>
            </section>

            <section id="contributing">
              <h3>Contributing</h3>
              <p>If you would like to contribute code you can do so through GitHub by forking the repository and sending a pull request.</p>
              <p>When submitting code, please make every effort to follow existing conventions and style in order to keep the code as readable as possible. Please also make sure your code compiles by running <code>mvn clean verify</code>.</p>
              <p>Before your code can be accepted into the project you must also sign the <a href="http://squ.re/sign-the-cla">Individual Contributor License Agreement (CLA)</a>.</p>
            </section>

            <section id="license">
              <h3>License</h3>
              <pre>Copyright 2013 Square, Inc.

Licenciado sob a licença do Apache, Versão 2.0 (a "Licença");
você não pode usar este arquivo exceto em conformidade com a Licença.
Você pode obter uma cópia da Licença em

   http://www.apache.org/licenses/LICENSE-2.0

A menos que seja exigido pela lei aplicável ou acordado por escrito, software
distribuído sob a Licença é distribuído na base "AS IS",
SEM GARANTIAS OU CONDIÇÕES DE QUALQUER NATUREZA, evidente ou implícita. 
Veja a Licença para as permissões específicas da linguagem e as limitações
sob a licença.</pre>
            </section>
          </div>
          <div class="span3">
            <div class="content-nav" data-spy="affix" data-offset-top="80">
              <ul class="nav nav-tabs nav-stacked primary">
                <li><a href="#introduction">Introdução</a></li>
                <li><a href="#api-declaration">Declaração da API</a></li>
                <li><a href="#restadapter-configuration">Configuração do Retrofit</a></li>
                <li><a href="#download">Download</a></li>
                <li><a href="#contributing">Contribuindo</a></li>
                <li><a href="#license">Licença</a></li>
              </ul>
              <ul class="nav nav-pills nav-stacked secondary">
                <li><a href="2.x/retrofit/">Javadoc</a></li>
                <li><a href="http://stackoverflow.com/questions/tagged/retrofit?sort=active">StackOverflow</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="span12 logo">
            <a href="https://squareup.com"><img src="static/logo-square.png" alt="Square, Inc."/></a>
          </div>
        </div>
      </div>
    </section>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="static/bootstrap.min.js"></script>
    <script src="static/jquery.smooth-scroll.min.js"></script>
    <script src="static/jquery-maven-artifact.min.js"></script>
    <script src="static/prettify.js"></script>
    <script type="text/javascript">
      $(function() {
        // Syntax highlight code blocks.
        prettyPrint();

        // Spy on scroll position for real-time updating of current section.
        $('body').scrollspy();

        // Use smooth-scroll for internal links.
        $('a').smoothScroll();

        // Enable tooltips on the header nav image items.
        $('.menu').tooltip({
          placement: 'bottom',
          trigger: 'hover',
          container: 'body',
          delay: {
            show: 500,
            hide: 0
          }
        });

        // Look up the latest version of the library.
        $.fn.artifactVersion('com.squareup.retrofit2', 'retrofit', function(version, url) {
          $('.version').text(version);
          $('.version-tag').text('v' + version);
          $('.version-href').attr('href', url);
        });
      });

      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-40704740-4', 'github.io');
      ga('send', 'pageview');
    </script>
  </body>
</html>
